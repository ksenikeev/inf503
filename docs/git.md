# GIT

## Система контроля версий

https://git-scm.com/book/ru/v2

https://github.com/progit/progit/blob/master/ru/

Downloads: https://git-scm.com/downloads

Для работы с удаленным репозиторием удобно использовать протокол ssh, для этого необходимо сгенерировать ключи шифрования
```
ssh-keygen
```
Используйте директорию, которую предлагает утилита, имя ключа можно задать своё.

После создания ключей приватный надо хранить в секрете, публичный предназначен для аутентификации — его загружают на удаленные репозитории.

- Проверяем:
```
git --version
```

- настраиваем параметры:
```
git config param_name param_value
```

- в частности:
```
git config user.name ваше_имя
git config user.email электронная_почта
```  

- создаем локальный репозиторий в текущей директории:
```
git init
```

- состояние git репозитория
```
git status
```

- добавляем файл в список индексируемых:
```
git add filename
```

- добавляем в список индексируемых все java файлы из директорий, вложенных в lab08
```
git add lab08/**/*.java
```

- проверка статуса локального репозитория:
```
git status
```

- коммит (фиксируем изменения индексируемых файлов):
```
git commit -m "commit message"
```

- коммит всех отслеживаемых файлов
```
git commit -a -m "commit message"
```

- добавляем удалённый репозиторий (с использованием протокола ssh)
```
git remote add origin git@github.com:ksenikeev/inf403.git
```

- отправляем изменения в удалённый репозиторий:
```
git push origin master
```

- Локальная ветка по умолчанию - master

- Внешний репозиторий обычно - origin

- подгрузка изменений из внешнего репозитория:
```
git pull origin master
```

## Игнорирование файлов системой git
- Просмотр ингорируемых файлов
```
git status --ignored
```

- Файл .gitignored
``` 
# игнорируем себя
.gitignore
# конфигурация IDE
.idea/
# все файлы *.class
*.class
# все файлы внутри каталога target
target/**
#
.DS_Store
Thumbs.db
```

## Работа с ветками

Создание новой ветки:
```
git branch имя_ветки
``` 

Переключение на ветку:
```
git checkout имя_ветки
```

### Слияние веток
Например, сливаем изменения в ветке `test` в ветку `master`:
```
git checkout master # переключаемся на ветку в которую хотим влить изменения
git merge test
```

## Конфликты

Конфликт возникает при попытке объеденить ветки, содержащие разные изменения одного и того же файла

Решение: 
- выбрать один из двух вариантов (отбросить изменения в другом)
- вручную привести файлы к одному состоянию

Инструмент для разрешения конфликтов:
```
git mergetool
```